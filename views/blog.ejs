<html>
<head>
    <%- include('partials/header1.ejs') %>
</head>
<body>
  <header>
    <h1>The Baker Barns Bakery</h1>
    <%- include('partials/navbar1.ejs') %>
  </header>
</body>
<div class="container">
  <h1 class="page-title">Recipes</h1>

  <!-- Filters -->
  <div class="filter-buttons">
    <button class="filter-btn active" data-filter="all">All Recipes</button>
    <button class="filter-btn" data-filter="Breakfast">Breakfast</button>
    <button class="filter-btn" data-filter="BBQ">BBQ</button>
    <button class="filter-btn" data-filter="Lunch/Dinner">Lunch/Dinner</button>
    <button class="filter-btn" data-filter="Canapes">Canapes/Finger Food</button>
    <button class="filter-btn" data-filter="Dessert">Dessert</button>
    <button class="filter-btn" data-filter="Pastry">Pastry</button>
  </div>

  <!-- Recipe Cards -->
    <div class="recipes-grid">
      <% recipes.forEach(recipe => { %>
        <a href="/recipes/<%= recipe.id %>" class="recipe-card" data-category="<%= recipe.category %>">
          <img src="<%= recipe.image %>" alt="<%= recipe.title %>">
          <div class="recipe-info">
            <p class="categories"><%= recipe.category %></p>
            <h3><%= recipe.title %></h3>
            <% if (recipe.description) { %>
            <p><%= recipe.description.substring(0, 100) %>...</p>
            <% } %>
          </div>
        </a>
        <% }) %>
      </div>
</div>



<script>
  const filterBtns = document.querySelectorAll(".filter-btn");
  const recipeCards = document.querySelectorAll(".recipe-card");

  filterBtns.forEach(btn => {
    btn.addEventListener("click", () => {
      filterBtns.forEach(b => b.classList.remove("active"));
      btn.classList.add("active");

      const filter = btn.getAttribute("data-filter");
      recipeCards.forEach(card => {
        if (filter === "all" || card.dataset.category.includes(filter)) {
          card.style.display = "block";
        } else {
          card.style.display = "none";
        }
      });
    });
  });
</script>
</html>